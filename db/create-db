DB_DOCKER_NAME=ecohub-db
NETWORK_NAME=ecohub-db-network

docker stop $DB_DOCKER_NAME
docker rm $DB_DOCKER_NAME

docker network rm ${NETWORK_NAME}

docker network create -d bridge ${NETWORK_NAME}

docker run ^
  -v "$(pwd)/init.sql:/docker-entrypoint-initdb.d/init.sql" ^
  -e POSTGRES_USER=postgres ^
  -e POSTGRES_PASSWORD=postgres ^
  --network ${NETWORK_NAME} ^
  -p 5432:5432 ^
  -d --name ${DB_DOCKER_NAME} ^
  --cpus=1 ^
  --memory=1g --memory-swap=1g --memory-reservation=512m ^
  postgres:14.4
